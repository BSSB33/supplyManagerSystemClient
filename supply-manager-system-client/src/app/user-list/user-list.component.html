<div class="panel panel-default" style="margin: 20px;">
    <!-- Modify Title for different roles: /Employees/Colleagues/Registerd Users -->
    <h2 style="margin-left: 20px;">Registered Users</h2>
    <table class="table table-dark table-hover table-curved">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Username</th>
                <th scope="col">User Status</th>
                <th scope="col">Director At</th>
                <th scope="col">Workplace</th>
                <th scope="col">Role</th>
                <th scope="col">Edit</th>
                <th scope="col">Delete</th>
                <th scope="col">Disable/Enable</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of users">
                <th scope="row">{{ user.id }}</th>
                <td *ngIf="user.username; else missing">
                    <a [routerLink]="['/users', user.id]" style="color: azure;">{{user.username}}</a>
                </td>
                <td *ngIf="user.enabled; else disabledUser"><label style="color: green;">Enabled User</label></td>
                <ng-template #disabledUser>
                    <td><label style="color: red;">Disabled User</label></td>
                </ng-template>
                <td *ngIf="user.company; else notADirector">{{user.company.name}}</td>
                <td *ngIf="user.workplace; else missing">{{user.workplace.name}}</td>
                <td *ngIf="user.role; else missing">{{user.role}}</td>
                <td><button mat-raised-button color="primary" [routerLink]="['/users/edit', user.id]">Edit</button></td>
                <!-- TODO Disable these buttons in the case of the Logged In user-->
                <td><button mat-raised-button color="primary" (click)="deleteUser(user)" disabled>Delete</button></td>
                <td *ngIf="user.enabled; else disabledUserButton">
                    <button mat-raised-button color="primary" (click)="disableOrEnableUser(user)">Disable</button>
                </td>
                <ng-template #disabledUserButton>
                    <td><button mat-raised-button color="primary" (click)="disableOrEnableUser(user)">Enable</button></td>
                </ng-template>
                
            </tr>
        </tbody>
    </table>

    <ng-template #notADirector>
        <td><strong style="color: orange;">Not a Director</strong></td>
    </ng-template>

    <ng-template #missing>
        <td><strong style="color: green;">Please Add Value</strong></td>
    </ng-template>
</div>